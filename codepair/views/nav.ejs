<!-- views/nav.ejs -->
<!doctype html>
<html>
<head>
    <title>CodePair - Navigator</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/chat/chat.css">
    <script type="text/javascript" src="/js/functions.js"></script>
    <style>
        body{ 
            padding-top:80px;
            background-image: url("https://pixabay.com/static/uploads/photo/2016/03/29/05/51/aztec-1287603_960_720.jpg");
        }
    
    #aceEditor {
        margin: 0;
        position: relative;
        height: 425px;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
    }
    </style>
</head>
<body>
<div class="container">

      <div class="row">
          <div class="col-xs-4 col-md-4" >
            <div class="btn-group">
              <button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Code Language <span class="caret"></span>
              </button>
              <ul class="dropdown-menu">
                <li><a href="#">Action</a></li>
                <li><a href="#">Another action</a></li>
                <li><a href="#">Something else here</a></li>
                <li role="separator" class="divider"></li>
                <li><a href="#">Separated link</a></li>
              </ul>
            </div>
          </div>
          <div class="col-xs-4 col-md-4" >
            <div class="btn-group">
              <button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Editor Theme <span class="caret"></span>
              </button>
              <ul class="dropdown-menu">
                <li><a href="#">Action</a></li>
                <li><a href="#">Another action</a></li>
                <li><a href="#">Something else here</a></li>
                <li role="separator" class="divider"></li>
                <li><a href="#">Separated link</a></li>
              </ul>
            </div>
          </div>
      </div>
</div>
<p>
<nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">CodePair</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a>sessionID:</a></li>
            <li><a id = sessionId> </a></li>
            <li><a>Hi <%= user.local.email %></a></li>
            <li><a href="/logout">Sign out</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
</nav>

<script src="http://127.0.0.1:8080/socket.io/socket.io.js"> </script>

<div class="container">
      <div class="row">
        <div class="col-md-12 col-md-8" >
          <div id="aceEditor"></div>
        </div>
        <div class="col-md-6 col-md-4">
        <div class="chat">
          <input type="text" class="chat-name" placeholder="Enter your name"></input>
          <div class="chat-messages">

          </div>
          <textarea class="chat-textarea" placeholder="Type your message"></textarea>
          <div class="chat-status">Status: <span>Idle</span></div>
        </div>
      </div>
    </div>
  </div>
<p>
<p>
<div class="container">

      <div class="row">
        <div class="col-xs-4 col-md-4" >
          <button class="btn btn-success" type="button">Download Code</button>
        </div>
        <div class="col-xs-4 col-md-4">
        </div>
        <div class="col-xs-4 col-md-4">
          <button class="btn btn-success" type="button">Download Chat</button>
        </div>
      </div>
</div>

<script src="/ace-builds-master/src-noconflict/ace.js" type="text/javascript" charset="utf-8"> </script>

<script>
// to get session Id ---------------------

    var page = window.location;
    console.log(page);

    var array = page.pathname.split('/');
    console.log(array);

    var sessionId;
    sessionId = array[2];
    console.log(sessionId);

    document.getElementById("sessionId").innerHTML = sessionId;

//----------------------------------------

    var navEditor = ace.edit("aceEditor");
    navEditor.setOptions({
        readOnly: true,
        highlightActiveLine: false,
        highlightGutterLine: false
    })
    navEditor.setTheme("ace/theme/twilight");
    navEditor.session.setMode("ace/mode/javascript");


</script>
</body>
</html>